<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyword Ranking News</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f4f4f4;
            --text-color: #333;
            --card-background: #fff;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        h1 {
            margin: 0;
            text-align: center;
            font-size: 2.5em;
        }
        h1, h2 {
            text-align: center;
            color: var(--primary-color);
        }
        .search-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }

        #search-input {
            width: 50%;
            padding: 10px;
            font-size: 16px;
            border: none;
            border-radius: 25px 0 0 25px;
        }

        #search-button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 0 25px 25px 0;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #search-button:hover {
            background-color: #27ae60;
        }

        .profile-container {
            position: relative;
            margin-left: 10px;
        }

        .profile-image {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s;
        }


        .user-nickname {
            margin-left: 10px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .profile-image:hover {
            transform: scale(1.1);
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            right: 0;
            background-color: var(--card-background);
            min-width: 120px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 5px;
        }

        .dropdown-menu a {
            color: var(--text-color);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s;
        }

        .dropdown-menu a:hover {
            background-color: #f1f1f1;
        }

        .news-section {
            margin-top: 30px;
            background-color: var(--card-background);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        h2 {
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .news-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
            justify-content:center;
        }

        .news-item {
            background-color: #e8f4fb;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
            text-align: center;
        }

        .news-item:hover {
            background-color: #d0e9f7;
            transform: translateY(-3px);
        }

        .news-card-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            padding: 20px 0;
            justify-content: center;
        }

        .news-card {
            background-color: var(--card-background);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .news-card img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .news-card-content {
            padding: 20px;
            text-align: center;
        }

        .news-card h3 {
            margin: 0 0 10px 0;
            font-size: 18px;
            color: var(--primary-color);
        }

        .news-card p {
            margin: 0;
            font-size: 14px;
            color: var(--text-color);
            line-height: 1.6;
        }

        .news-card .source {
            margin-top: 15px;
            font-size: 12px;
            color: #777;
        }

        .show-more, .show-less {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .show-more:hover, .show-less:hover {
            background-color: #2980b9;
        }

        .show-less {
            display: none;
        }

        @media (max-width: 768px) {
            .news-card-container {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            #search-input {
                width: 60%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Keyword Ranking News</h1>
        <div class="search-container">
            <input type="text" id="search-input" placeholder="검색어를 입력하세요">
            <button id="search-button">검색</button>
            <div class="profile-container">
                <img src="https://via.placeholder.com/40" alt="Profile" class="profile-image" onclick="toggleDropdown()">
                <span id="user-nickname" class="user-nickname"></span>
                <div id="dropdown" class="dropdown-menu">
                    <!-- 메뉴 항목은 JavaScript로 동적으로 생성됩니다 -->
                </div>
            </div>
        </div>

        <div class="news-section">
            <h2>언론사별 뉴스</h2>
            <div id="news-outlets" class="news-list"></div>
            <button class="show-more" onclick="toggleItems('news-outlets', true)">더보기</button>
            <button class="show-less" onclick="toggleItems('news-outlets', false)">접기</button>
        </div>

        <div class="news-section">
            <h2>카테고리별 뉴스</h2>
            <div id="news-categories" class="news-list"></div>
            <button class="show-more" onclick="toggleItems('news-categories', true)">더보기</button>
            <button class="show-less" onclick="toggleItems('news-categories', false)">접기</button>
        </div>
        <div class="news-section">
            <h2>실시간 언론사별 인기 뉴스</h2>
            <div id="popular-news" class="news-card-container"></div>
            <button class="show-more" onclick="toggleItems('popular-news', true)">더보기</button>
            <button class="show-less" onclick="toggleItems('popular-news', false)">접기</button>
        </div>
    </div>

        
    </div>

    <script>
        // 가상의 JSON 데이터
        const newsOutlets = {
            "items": ["KBS", "MBC", "SBS", "JTBC", "YTN", "연합뉴스", "중앙일보", "동아일보", "한겨레", "경향신문"]
        };
        const newsCategories = {
            "items": ["정치", "경제", "사회", "문화", "스포츠", "국제", "과학", "IT", "연예", "생활"]
        };

        function createNewsItems(containerId, items) {
            const container = document.getElementById(containerId);
            items.forEach((item, index) => {
                const newsItem = document.createElement('div');
                newsItem.className = 'news-item';
                newsItem.textContent = item;
                newsItem.style.display = index < 5 ? 'block' : 'none';
                container.appendChild(newsItem);
            });
        }

        function toggleItems(containerId, showMore) {
            const container = document.getElementById(containerId);
            const items = container.getElementsByClassName('news-item');
            const showMoreButton = container.nextElementSibling;
            const showLessButton = showMoreButton.nextElementSibling;

            for (let i = 0; i < items.length; i++) {
                if (showMore) {
                    items[i].style.display = 'block';
                } else {
                    items[i].style.display = i < 5 ? 'block' : 'none';
                }
            }

            showMoreButton.style.display = showMore ? 'none' : 'block';
            showLessButton.style.display = showMore ? 'block' : 'none';
        }

        function toggleDropdown() {
            var dropdown = document.getElementById("dropdown");
            dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
        }

        // 드롭다운 메뉴 외부 클릭 시 닫기
        window.onclick = function(event) {
            if (!event.target.matches('.profile-image')) {
                var dropdown = document.getElementById("dropdown");
                if (dropdown.style.display === "block") {
                    dropdown.style.display = "none";
                }
            }
        }
        // 가상의 인기 뉴스 데이터 (언론사 정보 추가)
        const popularNews = {
            "items": [
                {
                    "title": "코로나19 백신 접종 시작",
                    "content": "오늘부터 전국에서 코로나19 백신 접종이 시작됩니다. 의료진을 시작으로 단계적으로 확대될 예정입니다.",
                    "image": "https://via.placeholder.com/300x150?text=Vaccine",
                    "source": "KBS 뉴스"
                },
                {
                    "title": "국내 IT 기업, 해외 진출 가속화",
                    "content": "국내 주요 IT 기업들의 해외 시장 진출이 빠르게 진행되고 있습니다. 특히 동남아시아 시장에서 큰 성과를 거두고 있습니다.",
                    "image": "https://via.placeholder.com/300x150?text=IT",
                    "source": "매일경제"
                },
                {
                    "title": "올해 장마, 평년보다 길어질 전망",
                    "content": "기상청은 올해 장마가 평년보다 길어질 것으로 전망했습니다. 농작물 관리에 각별한 주의가 필요할 것으로 보입니다.",
                    "image": "https://via.placeholder.com/300x150?text=Weather",
                    "source": "YTN"
                },
                {
                    "title": "신규 택지 개발 계획 발표",
                    "content": "정부가 수도권 주택난 해소를 위한 신규 택지 개발 계획을 발표했습니다. 총 10만 가구 규모의 주택 공급이 예상됩니다.",
                    "image": "https://via.placeholder.com/300x150?text=Housing",
                    "source": "조선일보"
                },
                {
                    "title": "국제 유가 상승세 지속",
                    "content": "국제 유가가 상승세를 이어가며 6년 만에 최고치를 기록했습니다. 이에 따른 물가 상승 우려도 제기되고 있습니다.",
                    "image": "https://via.placeholder.com/300x150?text=Oil",
                    "source": "한국경제"
                },
                {
                    "title": "新 한류 열풍, K-푸드 인기",
                    "content": "한국 음식의 인기가 전 세계적으로 확산되고 있습니다. 특히 김치와 비빔밥이 큰 인기를 얻고 있습니다.",
                    "image": "https://via.placeholder.com/300x150?text=K-Food",
                    "source": "MBC 뉴스"
                }
            ]
        };

        function createNewsCards(containerId, items) {
            const container = document.getElementById(containerId);
            items.forEach((item, index) => {
                const newsCard = document.createElement('div');
                newsCard.className = 'news-card';
                newsCard.innerHTML = `
                    <img src="${item.image}" alt="${item.title}">
                    <div class="news-card-content">
                        <h3>${item.title}</h3>
                        <p>${item.content}</p>
                        <p class="source">${item.source}</p>
                    </div>
                `;
                newsCard.style.display = index < 3 ? 'block' : 'none';
                container.appendChild(newsCard);
            });
        }

        function toggleItems(containerId, showMore) {
            const container = document.getElementById(containerId);
            const items = container.getElementsByClassName('news-card');
            const showMoreButton = container.nextElementSibling;
            const showLessButton = showMoreButton.nextElementSibling;

            for (let i = 0; i < items.length; i++) {
                items[i].style.display = showMore || i < 3 ? 'block' : 'none';
            }

            showMoreButton.style.display = showMore ? 'none' : 'block';
            showLessButton.style.display = showMore ? 'block' : 'none';
        }

        // 페이지 로드 시 뉴스 아이템 생성
        window.onload = function() {
            createNewsItems('news-outlets', newsOutlets.items);
            createNewsItems('news-categories', newsCategories.items);
            createNewsCards('popular-news', popularNews.items);
        }
    // 로그인 상태를 시뮬레이션하는 변수 (실제로는 서버에서 이 정보를 가져와야 합니다)
    let isLoggedIn = true;
    let userNickname = "Nicname";

    function toggleDropdown() {
        var dropdown = document.getElementById("dropdown");
        dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
        if (dropdown.style.display === "block") {
            updateDropdownMenu();
        }
    }

    function updateDropdownMenu() {
        var dropdown = document.getElementById("dropdown");
        var nicknameSpan = document.getElementById("user-nickname");
        dropdown.innerHTML = ''; // 기존 메뉴 항목을 모두 제거

        if (isLoggedIn) {
            nicknameSpan.textContent = userNickname;
            dropdown.innerHTML += '<a href="#"><i class="fas fa-user"></i> 마이페이지</a>';
            dropdown.innerHTML += '<a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> 로그아웃</a>';
        } else {
            nicknameSpan.textContent = "로그인";
            dropdown.innerHTML += '<a href="#" onclick="login()"><i class="fas fa-sign-in-alt"></i> 로그인</a>';
        }
    }

    function login() {
        isLoggedIn = true;
        userNickname = "사용자"; // 실제로는 서버에서 사용자 정보를 받아와야 합니다
        alert("로그인되었습니다.");
        updateDropdownMenu();
    }

    function logout() {
        isLoggedIn = false;
        userNickname = "";
        alert("로그아웃되었습니다.");
        updateDropdownMenu();
    }

    // 드롭다운 메뉴 토글을 위한 이벤트 리스너
    document.querySelector('.profile-container').addEventListener('click', toggleDropdown);

    // 드롭다운 메뉴 외부 클릭 시 닫기
    window.onclick = function(event) {
        if (!event.target.matches('.profile-container') && !event.target.matches('.profile-image') && !event.target.matches('.user-nickname')) {
            var dropdown = document.getElementById("dropdown");
            if (dropdown.style.display === "block") {
                dropdown.style.display = "none";
            }
        }
    }

    // 페이지 로드 시 실행되는 함수
    window.onload = function() {
        createNewsItems('news-outlets', newsOutlets.items);
        createNewsItems('news-categories', newsCategories.items);
        createNewsCards('popular-news', popularNews.items);
        updateDropdownMenu(); // 초기 메뉴 상태 설정
    }
    </script>
</body>
</html>